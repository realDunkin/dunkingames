<!DOCTYPE html>
<html>

<head>
	<title>Retro-Ping-Pong</title>
	<style>
		* {
			margin: 0;
			padding: 0;
		}

		#game_container {
			width: 100%;
			height: 100%;
		}
	</style>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
	<script type="text/javascript" src="cmg.js"></script>

	<script>
		let isAdBreakActive = false;
		let wasMuted = false;
		// To trigger the event Listener adBreakStart
		document.addEventListener("adBreakStart", () => {
			console.log("AdBreak Started")
			//TODO:  Developer needs to add the logic to pause the game and sound here
			isAdBreakActive = true;

			try {
				wasMuted = NORD.audioManager.isMute;
				NORD.audioManager.setMute(true);
				TweenMax.pauseAll();
				setTimeout(()=>{
					if (isAdBreakActive) TweenMax.pauseAll();
				}, 1000);
			} catch (e) {}			
		});
		// To trigger the event Listener  adBreakComplete
		document.addEventListener("adBreakComplete", () => {
			console.log("adBreak Complete")
			//TODO:  Developer needs to add the logic to resume the game and sound here
			isAdBreakActive = false;
			try {
				NORD.audioManager.setMute(wasMuted);
				TweenMax.resumeAll();
			} catch (e) {}
		});
		
		function cmgAdBreakCall() {
			try {
				let _cmgAdBreak = parent.cmgAdBreak ?? cmgAdBreak;
				if (_cmgAdBreak) {
					_cmgAdBreak();
				} else {
					console.warn('cmgAdBreak not foud!');
				}
			} catch (e) {}
		}
	</script>

	<script src="./assets/libs/tween_max/easing/EasePack.min.js"></script>
	<script src="./assets/libs/tween_max/plugins/PixiPlugin.min.js"></script>
	<script src="./assets/libs/tween_max/plugins/ColorPropsPlugin.js"></script>
	<script src="./assets/libs/tween_max/TweenMax.min.js"></script>
	<script src="./assets/libs/p2.min.js"></script>
	<script src="./assets/libs/matter.min.js"></script>
	<script src="./assets/libs/decomp.min.js"></script>
	<script src="./assets/libs/FileSaver.js"></script>
	<script src="./assets/libs/bezier.js"></script>

	<script src="./assets/libs/event_emitter/EventEmitter.min.js"></script>
	<script src="./assets/libs/event_emitter/EventEmitter.min.js"></script>

	<script src="./assets/libs/pixi/pixi.min.js"></script>
	<script src="./assets/libs/audio/howler.min.js"></script>

	<script src="./assets/scripts/Core.js" type="text/javascript"></script>

	<script src="./assets/scripts/Managers.js" type="text/javascript"></script>
	<script src="./assets/scripts/Gui.js" type="text/javascript"></script>
	<script src="./assets/scripts/Util.js" type="text/javascript"></script>

	<script src="./assets/scripts/Field.js" type="text/javascript"></script>
	<script src="./assets/scripts/FieldObjects.js" type="text/javascript"></script>
	<script src="./assets/scripts/FieldBonuses.js" type="text/javascript"></script>
	<script src="./assets/scripts/ScreenPreloader.js" type="text/javascript"></script>
	<script src="./assets/scripts/ScreenMainMenu.js" type="text/javascript"></script>
	<script src="./assets/scripts/ScreenGame.js" type="text/javascript"></script>
	<script src="./assets/scripts/PanelSettings.js" type="text/javascript"></script>
	<script src="./assets/scripts/Robo.js" type="text/javascript"></script>

	<script src="./assets/scripts/App.js" type="text/javascript"></script>

</head>

<body>
	<div id="game_container"> </div>
</body>